    IPersistable persistable = user as IPersistable;
    Contract.Assert(persistable != null);
    
    if(persistable.IsNew)
    {
        // Create
    }
    else
    {
       // Update
    }
