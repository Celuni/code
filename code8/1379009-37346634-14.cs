    var c = new MyClass();
    while (c.IsNextAvailablle())
    {
        var item = c.GetNext();
        // process item
    }
