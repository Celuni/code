    public class CustomPanel : Panel
    {
        protected override Size MeasureOverride(Size availableSize)
        {
            ...
        }
        protected override Size ArrangeOverride(Size finalSize)
        {
            ...
        }
    }
