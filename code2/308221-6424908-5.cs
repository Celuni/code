    foreach (string name in q) {
        string substrings = name.Split('-'); 
        for (int i = 0; i < 3; i++) {
           string substring = substrings[i]; 
           // do something with substring
        }
    }
