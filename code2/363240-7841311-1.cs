    while (viewer.Peek() > 0) 
    {
        string line = viewer.ReadLine();
        if (! string startswith (".RES")
           continue;
    
        String[] parts = line .Split('=');  // note simplification   
        ....
             
