    <#@ import namespace="System" #>
    <#@ import namespace="System.Text" #>
    <#@ import namespace="System.Collections.Generic" #><#+
        public string BuildEnum2D
        (
            string namespaceName,
            string enumName,
            IEnumerable<Tuple<string, IEnumerable<string>>> items
        )
        {
            string head =
    @"
    using System;
    
    namespace @namespace
    {
        public sealed class @enum
        {
            private readonly string _value;
    
            private @enum(string value)
            {
                if (ReferenceEquals(value, null))
                {
                    throw new ArgumentNullException(""value"");
                }
                else
                {
                    _value = value;
                }
            }
    
            public override string ToString()
            {
                return _value;
            }";
            head = head.Replace("@namespace", namespaceName);
            head = head.Replace("@enum", enumName);
            StringBuilder sb = new StringBuilder();
            sb.Append(head);
            foreach (var item in items)
            {
                sb.Append(
    @"
    
            public static class " + item.Item1 + 
    @"
            {"
                        );
                foreach (var entry in item.Item2)
                {
                    sb.Append(
    @"
                private static readonly Cars _" + entry + @" = new Cars(""" + entry + 
    @""");"
                            );
                }
    
                foreach (var entry in item.Item2)
                {
                    sb.Append(
    @"
    
                public static Cars " + entry + @"
                {
                    get { return _" + entry + @"; }
                }"
                            );
                }
                sb.Append(
    @"
            }"			);
    
            }
            sb.Append(
    @"
        }
    }"
                    );
            return "// <auto-generated />" + "\r\n" + sb.ToString();
        }
    #>
