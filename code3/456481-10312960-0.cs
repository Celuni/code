    public void Test_Foo()
    {
         if(flag == true)
         {
          Foo foo = MockRepository.GenerateMock<Foo>(); 
          
         }
        //some test
    }
