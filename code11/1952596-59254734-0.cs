Invoke(new Action(async delegate ()
{
//waiting code
    int nretry = 100;
    while (nretry > 0){
//...
        Thread.Sleep(100);
    }
}
