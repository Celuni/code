     while (true)
                {
                    while ((inputLine = reader.ReadLine()) != null)
                    {
                       ....
                    }            
                }
      // Close all streams
                    writer.Close();
                    reader.Close();
                    irc.Close();
