    string prev1;
    string prev2;
    
    while (!reader.EndOfStream)
    {
    
        var line = reader.ReadLine();
    
        if (line.Contains("X"))
        {
            Processing
        }
    
        prev2 = prev1;
        prev1 = line;
    }
